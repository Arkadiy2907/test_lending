"use strict";const modalWindow=document.querySelector(".modalWindow"),modalWindowContentPart1=document.querySelector(".modalWindow__part1__content"),modalWindowAnswer=document.querySelector(".modalWindow__part__answer"),modalWindowContentPart1Close=document.querySelector(".modalWindow__part1__content__close"),modalWindowAnswerCloseBtn=document.querySelector(".modalWindow__part__answer__close__btn"),modalWindowAnswerClose=document.querySelector(".modalWindow__part__answer__close"),modalWindowFooterContentClose=document.querySelector(".modalWindow__footer__content__close"),modalWindowFooterContent=document.querySelector(".modalWindow__footer__content");let url=new URL(document.location);function openModalWinContent(e){modalWindow.style.display="block",e.style.display="flex",document.body.style.overflow="hidden",document.body.style.paddingRight="17px"}function closeModalWinContent(){modalWindow.style.display="none",modalWindowContentPart1.style.display="none",modalWindowAnswer.style.display="none",modalWindowFooterContent.style.display="none",document.body.style.overflow="",document.body.style.paddingRight="0"}function openModalWinAnswer(){modalWindow.style.display="block",modalWindowContentPart1.style.display="none",modalWindowFooterContent.style.display="none",modalWindowAnswer.style.display="flex"}document.getElementById("btn__part1").addEventListener("click",openModalWinContent.bind(null,modalWindowContentPart1)),document.getElementById("btn__footer").addEventListener("click",openModalWinContent.bind(null,modalWindowFooterContent)),modalWindow.onclick=function(e){e.target==modalWindowContentPart1Close||e.target==modalWindowAnswerCloseBtn||e.target==modalWindowAnswerClose||e.target==modalWindowFooterContentClose?closeModalWinContent():e.preventDefault()};let form=document.forms.formPart1,userName=form.elements.userName,tel=form.elements.tel,email=form.elements.email,form5=document.forms.form5,tel5=form5.elements.tel5,formFooter=document.forms.formFooter,userNameFooter=formFooter.elements.userNameFooter,telFooter=formFooter.elements.telFooter;function ShowError(e,o){let t=e.parentElement;t.className="form-control error",t.querySelector("small").innerText=o}function ShowSuccess(e){e.parentElement.className="form-control success"}function CheckName(e){return/^[а-яА-Я ]{2,30}$/.test(e.value.trim())?(ShowSuccess(e),!0):(ShowError(e,"неверное имя, пример: Вася"),!1)}function CheckEmail(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.value.trim())?(ShowSuccess(e),!0):(ShowError(e,"не верный формат записи"),!1)}function CheckTelephone(e){return/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im.test(e.value.trim())?(ShowSuccess(e),!0):(ShowError(e,"не верный формат записи, пример: 12223334455"),!1)}function CheckLenght(e,o,t){return e.value.length<o?(ShowError(e,`минимальное количество ${o} символов`),!1):e.value.length>t?(ShowError(e,`максимальное количество ${t} символов`),!1):(ShowSuccess(e),!0)}function getFieldName(e){return e.id.charAt(0).toUpperCase()+e.id.slice(1)}function checkInputPart1(e,o,t){return!!(CheckLenght(e,2,15)&&CheckName(e)&&CheckTelephone(o)&&CheckEmail(t))}function checkInputPart5(e){return!!CheckTelephone(e)}function checkInputFooter(e,o){return!!(CheckLenght(e,2,15)&&CheckName(e)&&CheckTelephone(o))}function sendOrder(e){Array.from(e.elements).forEach(((e,o)=>{url.searchParams.set(`${o}`,`${e.value}`)}))}function clearInputs(e){Array.from(e.elements).forEach((e=>{e.value=""}))}document.querySelector(".modalWindow__part1__content__btn").addEventListener("click",(function(e){checkInputPart1(userName,tel,email)?(sendOrder(form),clearInputs(form),openModalWinAnswer()):e.preventDefault()})),document.querySelector(".btn__part5").addEventListener("click",(function(e){checkInputPart5(tel5)?(sendOrder(form5),clearInputs(form5),openModalWinAnswer(),e.preventDefault()):e.preventDefault()})),document.querySelector(".modalWindow__footer__content__btn").addEventListener("click",(function(e){checkInputFooter(userNameFooter,telFooter)?(sendOrder(formFooter),clearInputs(formFooter),openModalWinAnswer(),e.preventDefault()):e.preventDefault()}));